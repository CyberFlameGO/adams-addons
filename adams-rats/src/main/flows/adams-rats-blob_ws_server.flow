# Project: adams
# Date: 2015-11-18 14:28:09
# User: fracpete
#
adams.flow.control.Flow
	-annotation
	Places uploaded files in ${EXAMPLE_FLOWS}/output
	-actor
		adams.flow.standalone.SetVariable
			-var-name
			output_dir
			-var-value
			${EXAMPLE_FLOWS}/output
	-actor
		adams.flow.standalone.Rats
			-rat
				adams.flow.standalone.Rat
					-receiver
						adams.flow.standalone.rats.input.WSBlobReception
							-web-service
								adams.flow.webservice.blob.RatsBlobServiceWS
									-in-interceptor
										adams.flow.webservice.interceptor.incoming.NullGenerator
									-out-interceptor
										adams.flow.webservice.interceptor.outgoing.NullGenerator
									-implementation
										adams.flow.webservice.blob.SimpleRatsBlobService
					-actor
						adams.flow.control.Tee
							-name
							create output filename
							-tee
								adams.flow.transformer.GetID
							-tee
								adams.flow.transformer.BaseName
							-tee
								adams.flow.transformer.PrependDir
									-prefix
									@{output_dir}
							-tee
								adams.flow.transformer.SetVariable
									-var-name
									file
					-transmitter
						adams.flow.standalone.rats.output.BinaryFileWriter
							-output
							@{file}
					-scope-handling-variables
					SHARE
	-actor
		adams.flow.source.Start
	-actor
		adams.flow.control.WhileLoop
			-condition
				adams.flow.condition.bool.True
			-loop
				adams.flow.source.Start
			-loop
				adams.flow.control.Sleep
	-flow-execution-listener
		adams.flow.execution.NullListener

