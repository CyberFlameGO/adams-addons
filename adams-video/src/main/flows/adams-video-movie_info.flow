# Project: adams
# Date: 2016-01-18 20:55:09
# User: fracpete
# Charset: UTF-8
#
adams.flow.control.Flow
	-annotation
	Outputs information about the selected movie.
	-actor
		adams.flow.standalone.CallableActors
			-actor
				adams.flow.sink.Display
					-writer
						adams.data.io.output.NullWriter
	-actor
		adams.flow.source.SelectFile
			-stop-if-canceled
			true
			-file-chooser-title
			Select movie
			-initial-dir
			${EXAMPLE_FLOWS}/data
			-extension
			mp4
			-extension
			mkv
			-extension
			avi
	-actor
		adams.flow.transformer.SetVariable
			-var-name
			movie
	-actor
		adams.flow.control.Tee
			-name
			duration
			-tee
				adams.flow.transformer.MovieInfo
			-tee
				adams.flow.transformer.Convert
					-conversion
						adams.data.conversion.AnyToString
			-tee
				adams.flow.transformer.StringInsert
					-position
					first
					-value
					movie duration: 
			-tee
				adams.flow.sink.CallableSink
					-callable
					Display
	-actor
		adams.flow.control.Tee
			-name
			start time
			-tee
				adams.flow.transformer.MovieInfo
					-type
					MOVIE_START_TIME
			-tee
				adams.flow.transformer.Convert
					-conversion
						adams.data.conversion.AnyToString
			-tee
				adams.flow.transformer.StringInsert
					-position
					first
					-value
					movie start time: 
			-tee
				adams.flow.sink.CallableSink
					-callable
					Display
	-actor
		adams.flow.control.Tee
			-name
			bit rate
			-tee
				adams.flow.transformer.MovieInfo
					-type
					BITRATE
			-tee
				adams.flow.transformer.Convert
					-conversion
						adams.data.conversion.AnyToString
			-tee
				adams.flow.transformer.StringInsert
					-position
					first
					-value
					bit rate: 
			-tee
				adams.flow.sink.CallableSink
					-callable
					Display
	-actor
		adams.flow.control.Tee
			-name
			num streams
			-tee
				adams.flow.transformer.MovieInfo
					-type
					NUM_STREAMS
			-tee
				adams.flow.transformer.SetVariable
					-var-name
					num_streams
			-tee
				adams.flow.transformer.Convert
					-conversion
						adams.data.conversion.AnyToString
			-tee
				adams.flow.transformer.StringInsert
					-position
					first
					-value
					num streams: 
			-tee
				adams.flow.sink.CallableSink
					-callable
					Display
	-actor
		adams.flow.control.Trigger
			-name
			iterate streams
			-tee
				adams.flow.source.ForLoop
					-upper
					@{num_streams}
			-tee
				adams.flow.transformer.SetVariable
					-var-name
					stream
			-tee
				adams.flow.control.Trigger
					-name
					stream info
					-tee
						adams.flow.source.Variable
							-var-name
							movie
					-tee
						adams.flow.control.Tee
							-name
							duration
							-tee
								adams.flow.transformer.MovieInfo
									-type
									STREAM_DURATION
									-stream-index
									@{stream}
							-tee
								adams.flow.transformer.Convert
									-conversion
										adams.data.conversion.AnyToString
							-tee
								adams.flow.transformer.StringInsert
									-position
									first
									-value
									#@{stream} duration: 
									-variable
									true
							-tee
								adams.flow.sink.CallableSink
									-callable
									Display
					-tee
						adams.flow.control.Tee
							-name
							start time
							-tee
								adams.flow.transformer.MovieInfo
									-type
									STREAM_START_TIME
									-stream-index
									@{stream}
							-tee
								adams.flow.transformer.Convert
									-conversion
										adams.data.conversion.AnyToString
							-tee
								adams.flow.transformer.StringInsert
									-position
									first
									-value
									#@{stream} start time: 
									-variable
									true
							-tee
								adams.flow.sink.CallableSink
									-callable
									Display
					-tee
						adams.flow.control.Tee
							-name
							codec type
							-tee
								adams.flow.transformer.MovieInfo
									-type
									CODEC_TYPE
									-stream-index
									@{stream}
							-tee
								adams.flow.transformer.Convert
									-conversion
										adams.data.conversion.AnyToString
							-tee
								adams.flow.transformer.StringInsert
									-position
									first
									-value
									#@{stream} codec type: 
									-variable
									true
							-tee
								adams.flow.sink.CallableSink
									-callable
									Display
					-tee
						adams.flow.control.Tee
							-name
							codec id
							-tee
								adams.flow.transformer.MovieInfo
									-type
									CODEC_ID
									-stream-index
									@{stream}
							-tee
								adams.flow.transformer.Convert
									-conversion
										adams.data.conversion.AnyToString
							-tee
								adams.flow.transformer.StringInsert
									-position
									first
									-value
									#@{stream} codec id: 
									-variable
									true
							-tee
								adams.flow.sink.CallableSink
									-callable
									Display
					-tee
						adams.flow.control.Tee
							-name
							language
							-tee
								adams.flow.transformer.MovieInfo
									-type
									LANGUAGE
									-stream-index
									@{stream}
							-tee
								adams.flow.transformer.Convert
									-conversion
										adams.data.conversion.AnyToString
							-tee
								adams.flow.transformer.StringInsert
									-position
									first
									-value
									#@{stream} language: 
									-variable
									true
							-tee
								adams.flow.sink.CallableSink
									-callable
									Display
					-tee
						adams.flow.control.Tee
							-name
							stream time base
							-tee
								adams.flow.transformer.MovieInfo
									-type
									STREAM_TIME_BASE
									-stream-index
									@{stream}
							-tee
								adams.flow.transformer.Convert
									-conversion
										adams.data.conversion.AnyToString
							-tee
								adams.flow.transformer.StringInsert
									-position
									first
									-value
									#@{stream} stream time base: 
									-variable
									true
							-tee
								adams.flow.sink.CallableSink
									-callable
									Display
					-tee
						adams.flow.control.Tee
							-name
							coder time base
							-tee
								adams.flow.transformer.MovieInfo
									-type
									CODER_TIME_BASE
									-stream-index
									@{stream}
							-tee
								adams.flow.transformer.Convert
									-conversion
										adams.data.conversion.AnyToString
							-tee
								adams.flow.transformer.StringInsert
									-position
									first
									-value
									#@{stream} coder time base: 
									-variable
									true
							-tee
								adams.flow.sink.CallableSink
									-callable
									Display
					-tee
						adams.flow.control.Tee
							-name
							audio sample rate
							-tee
								adams.flow.transformer.MovieInfo
									-type
									AUDIO_SAMPLE_RATE
									-stream-index
									@{stream}
							-tee
								adams.flow.transformer.Convert
									-conversion
										adams.data.conversion.AnyToString
							-tee
								adams.flow.transformer.StringInsert
									-position
									first
									-value
									#@{stream} audio sample rate: 
									-variable
									true
							-tee
								adams.flow.sink.CallableSink
									-callable
									Display
					-tee
						adams.flow.control.Tee
							-name
							audio channels
							-tee
								adams.flow.transformer.MovieInfo
									-type
									AUDIO_CHANNELS
									-stream-index
									@{stream}
							-tee
								adams.flow.transformer.Convert
									-conversion
										adams.data.conversion.AnyToString
							-tee
								adams.flow.transformer.StringInsert
									-position
									first
									-value
									#@{stream} audio channels: 
									-variable
									true
							-tee
								adams.flow.sink.CallableSink
									-callable
									Display
					-tee
						adams.flow.control.Tee
							-name
							audio format
							-tee
								adams.flow.transformer.MovieInfo
									-type
									AUDIO_FORMAT
									-stream-index
									@{stream}
							-tee
								adams.flow.transformer.Convert
									-conversion
										adams.data.conversion.AnyToString
							-tee
								adams.flow.transformer.StringInsert
									-position
									first
									-value
									#@{stream} audio format: 
									-variable
									true
							-tee
								adams.flow.sink.CallableSink
									-callable
									Display
					-tee
						adams.flow.control.Tee
							-name
							video width
							-tee
								adams.flow.transformer.MovieInfo
									-type
									VIDEO_WIDTH
									-stream-index
									@{stream}
							-tee
								adams.flow.transformer.Convert
									-conversion
										adams.data.conversion.AnyToString
							-tee
								adams.flow.transformer.StringInsert
									-position
									first
									-value
									#@{stream} video width: 
									-variable
									true
							-tee
								adams.flow.sink.CallableSink
									-callable
									Display
					-tee
						adams.flow.control.Tee
							-name
							video height
							-tee
								adams.flow.transformer.MovieInfo
									-type
									VIDEO_HEIGHT
									-stream-index
									@{stream}
							-tee
								adams.flow.transformer.Convert
									-conversion
										adams.data.conversion.AnyToString
							-tee
								adams.flow.transformer.StringInsert
									-position
									first
									-value
									#@{stream} video height: 
									-variable
									true
							-tee
								adams.flow.sink.CallableSink
									-callable
									Display
					-tee
						adams.flow.control.Tee
							-name
							video format
							-tee
								adams.flow.transformer.MovieInfo
									-type
									VIDEO_FORMAT
									-stream-index
									@{stream}
							-tee
								adams.flow.transformer.Convert
									-conversion
										adams.data.conversion.AnyToString
							-tee
								adams.flow.transformer.StringInsert
									-position
									first
									-value
									#@{stream} video format: 
									-variable
									true
							-tee
								adams.flow.sink.CallableSink
									-callable
									Display
					-tee
						adams.flow.control.Tee
							-name
							video frame rate
							-tee
								adams.flow.transformer.MovieInfo
									-type
									VIDEO_FRAME_RATE
									-stream-index
									@{stream}
							-tee
								adams.flow.transformer.Convert
									-conversion
										adams.data.conversion.AnyToString
							-tee
								adams.flow.transformer.StringInsert
									-position
									first
									-value
									#@{stream} video frame rate: 
									-variable
									true
							-tee
								adams.flow.sink.CallableSink
									-callable
									Display
	-flow-execution-listener
		adams.flow.execution.NullListener

