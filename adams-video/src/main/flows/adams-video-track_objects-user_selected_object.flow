# Project: adams
# Date: 2015-07-23 11:08:19
# User: fracpete
#
adams.flow.control.Flow
	-annotation
	Let\'s the user select an initial object to be tracked.\nIn this case, select the head of the person.
	-actor
		adams.flow.standalone.CallableActors
			-actor
				adams.flow.sink.ImageViewer
					-name
					Frame
					-short-title
					true
					-writer
						adams.gui.print.NullWriter
					-zoom
					-1.0
					-selection-processor
						adams.gui.visualization.image.selection.NullProcessor
					-image-overlay
						adams.gui.visualization.image.QuadrilateralLocationsOverlayFromReport
							-regexp
							Tracker\\.Current
			-actor
				adams.flow.sink.ImageViewer
					-name
					Object
					-short-title
					true
					-y
					-3
					-writer
						adams.gui.print.NullWriter
					-zoom
					-1.0
					-selection-processor
						adams.gui.visualization.image.selection.NullProcessor
					-image-overlay
						adams.gui.visualization.image.QuadrilateralLocationsOverlayFromReport
							-regexp
							Tracker\\.Current
			-actor
				adams.flow.sink.Display
					-name
					Locations
					-x
					-3
					-writer
						adams.data.io.output.NullWriter
	-actor
		adams.flow.source.FileSupplier
			-file
			${EXAMPLE_FLOWS}/data/track_peter.mjpeg
	-actor
		adams.flow.transformer.MjpegImageSequence
			-output-type
			FRAME
	-actor
		adams.flow.transformer.BufferedImageTransformer
			-transformer
				adams.data.jai.transformer.Brightness
					-factor
					1.5
	-actor
		adams.flow.transformer.Convert
			-conversion
				adams.data.conversion.BufferedImageToBoofCV
	-actor
		adams.flow.transformer.SetStorageValue
			-storage-name
			frame
	-actor
		adams.flow.control.Once
			-name
			select object
			-tee
				adams.flow.control.Inspect
					-provider
						adams.flow.sink.ImageViewer
							-writer
								adams.gui.print.NullWriter
							-selection-processor
								adams.gui.visualization.image.selection.SelectObjectToTrack
							-selection-box-color
							#ff0000
							-image-overlay
								adams.gui.visualization.image.QuadrilateralLocationsOverlayFromReport
			-tee
				adams.flow.transformer.SetStorageValue
					-storage-name
					frame
	-actor
		adams.flow.control.Trigger
			-name
			track
			-tee
				adams.flow.source.StorageValue
					-storage-name
					frame
			-tee
				adams.flow.transformer.TrackObjects
					-algorithm
						adams.flow.transformer.objecttracker.BoofCVCirculant
			-tee
				adams.flow.control.Branch
					-branch
						adams.flow.control.Sequence
							-name
							image
							-actor
								adams.flow.sink.CallableSink
									-callable
									Frame
					-branch
						adams.flow.control.Sequence
							-name
							object
							-actor
								adams.flow.transformer.ExtractTrackedObject
							-actor
								adams.flow.sink.CallableSink
									-callable
									Object
					-branch
						adams.flow.control.Sequence
							-name
							location
							-actor
								adams.flow.transformer.GetReportValue
									-field
									Tracker.Current[S]
							-actor
								adams.flow.sink.CallableSink
									-callable
									Locations
	-flow-execution-listener
		adams.flow.execution.NullListener

